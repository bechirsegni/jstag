!function(e,t,n){function i(e){return"[object Function]"===D.call(e)}function a(e){return"[object Object]"===D.call(e)}function o(e){return"[object String]"===D.call(e)}function r(e){return"[object Array]"===D.call(e)}function c(){var e={},t=!1,n=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var a=function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t&&"[object Object]"===Object.prototype.toString.call(n[i])?e[i]=c(!0,e[i],n[i]):e[i]=n[i])};i>n;n++){var o=arguments[n];a(o)}return e}function s(e){void 0===e&&(e=C.href);for(var t={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"qs",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},a=14;a--;)i[t.key[a]]=n[a]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,a){n&&(i[t.q.name][n]=decodeURIComponent(a))}),i}function d(){return(65536*(1+Math.random())).toString()}function l(e){P.setid(d()),i(e)&&e(E)}function u(e){if(!jQuery)return void P.setid(d());if(jQuery&&jQuery.ajax&&i(jQuery.ajax)){var t=U.url+U.idpath+U.cid[0];jQuery.ajax({url:t,dataType:"jsonp",success:function(t){P.setid(t),R="t",e(t)}})}}function f(){var e="";try{e=top.document.referrer}catch(n){try{e=parent.document.referrer}catch(i){e=""}}return""===e&&(e=t.referrer),e}function p(e){return U=c(P.config,e),U.loadid&&(U.getid=u),_(),P}function h(e,t,n){t.opts=c({},n),e in K?K[e].push(t):K[e]=[t]}function g(e){var t,n=[],a=[],o=Array.prototype.slice.call(arguments,1);if(K[e]&&K[e].length)for(var r=0,c=K[e].length;c>r;r++)i(K[e][r])&&(t=K[e][r],t.opts.onetime?n.push(t):(t.apply({},o),a.push(K[e][r])));K[e]=a;for(var s=n[B]-1;s>=0;s--)n[s].apply({},o)}function m(e){o(e[1])&&e[1]in P?h(e[0],function(){P[e[1]].apply(P,J.call(e[2]?e[2]:{}))}):h.apply(P,[e[0]].concat(J.call(e[1])))}function v(){if("_q"in P&&r(P._q))for(var e=P._q.length-1;e>=0;e--)m(P._q[e])}function y(e){if(G=t.cookie,G[B]>0){var n,i=G.indexOf(e+"=");if(-1!=i)return i+=e.length+1,n=G.indexOf(";",i),-1==n&&(n=G[B]),unescape(G.substring(i,n))}return null}function b(e,n,i,a,o,r){var c=o;if(!o&&V&&V.host){var s=V.host.split(".");c=V.host,s.length>1&&(o="."+s[s.length-2]+"."+s[s.length-1])}a=a||"/";var d=e+"="+escape(n)+(i?"; expires="+i.toGMTString():"")+(a?"; path="+a:"")+(o?"; domain="+o:"")+(r?"; secure":""),l=e+"="+escape(n)+(i?"; expires="+i.toGMTString():"")+(a?"; path="+a:"")+(c?"; domain="+c:"")+(r?"; secure":"");t.cookie=d,t.cookie=l}function k(e,t,n){return e+=e.indexOf("?")<1?"?":"&",e+t+"="+n}function w(){var e=navigator.userAgent||navigator.vendor||window.opera,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4));return!!t}function _(){$=y(P.config.sesname);for(var e in V.qs)0===e.indexOf("utm_")&&(H[e]=V.qs[e]);if(P.config.qsargs&&r(P.config.qsargs))for(var t=null,i=P.config.qsargs.length-1;i>=0;i--)t=P.config.qsargs[i],t in V.qs&&(H[t]=V.qs[t]);if($||(H._sesstart="1"),L&&L[B]>1){var a=L.toString().match(/\/\/(.*)\//);a&&-1==a[1].indexOf(C.host)&&(H._ref=L.replace("http://","").replace("https://",""),$||(H._sesref=L.replace("http://","").replace("https://","")))}var o=new Date;o.setTime(o.getTime()+1e3*P.config.sessecs),b(P.config.sesname,"e",o),H._tz=parseInt(o.getTimezoneOffset()/60*-1)||"0",H._ul="Netscape"==n.appName?n.language:n.userLanguage,"object"==typeof screen&&(H._sz=screen.width+"x"+screen.height)}function j(e){return encodeURIComponent(e)}function x(e,t){var n=[],c="";if(1==arguments.length&&(t=""),r(e)){window.JSON&&n.push("_json="+j(JSON.stringify(e)));for(var s=e.length-1;s>=0;s--)n.push(x(e[s],t));return n.join("&")}for(var d in e)if(e.hasOwnProperty(d))if(c=j(d),""!==t&&(c=t+"."+c),a(e[d]))n.push(x(e[d],d));else if(i(e[d]))n.push(c+"="+j(e[d]()));else if(r(e[d])){n.push(c+"_len="+e[d].length),window.JSON&&n.push(c+"_json="+j(window.JSON.stringify(e[d])));for(var l=e[d].length-1;l>=0;l--)a(e[d][l])?n.push(x(e[d][l],c)):null!==e[d][l]&&void 0!==e[d][l]&&n.push(c+"="+j(e[d][l]))}else o(e[d])&&e[d].length>0?n.push(c+"="+j(e[d])):null!==e[d]&&void 0!==e[d]&&n.push(c+"="+j(e[d]));return n.join("&")}function q(e){return this instanceof q?(this.init(e),this):new q(e)}function z(e){var t,n,i,a;a=!1;for(var o in arguments)switch(typeof arguments[o]){case"string":t=arguments[o];break;case"boolean":a=arguments[o];break;case"function":i=arguments[o];break;case"object":n=arguments[o];break;default:console.warn("unable to process jstag.send event: unknown value type ("+typeof arguments[o]+")")}return void 0!==t&&null!==t||(t="default"),void 0!==n&&null!==n||(n={}),{data:n,callback:i,stream:t,mock:a}}function O(e){if(e===!0)P.config.blockload=!0;else{if(e!==!1)throw"invalid jstag.block status requested";P.config.blockload=!1;for(var t=0;t<P.config.payloadQueue.length;t++)A(P.config.payloadQueue[t]);P.config.payloadQueue=[]}}function A(e){if(P.config.blockload&&!e.mock)return void P.config.payloadQueue.push(e);if(e.mock){for(var t={},n=0,i=P.config.payloadQueue.length;i>n;n++)t=c(t,P.config.payloadQueue[n].data);e.data=c(t,e.data)}if("io"in F&&r(F.io))for(var a=F.io.length-1;a>=0;a--)return F.io[a].send(e);else{var o=new q;o.send(e)}}function Q(){var e;e=z.apply(this,arguments),A(e)}function S(){[].push.call(arguments,!0),P.send.apply(this,arguments)}function I(){var e;e=z.apply(this,arguments),"_e"in e.data||(e.data._e="pv");for(var t in H)e.data[t]=H[t];A(e)}function T(){var e;e=z.apply(this,arguments),e.steram="default",e.data.user_id=arguments[0],A(e)}function M(e,t){var n="";t=t||"";for(var o in e)a(e[o])?n+=M(e[o],o+"."):i(e[o])||(n+="<tr><td>"+t+o+"</td><td>"+e[o]+"</td></tr>");return n}var E,N,R,C=t.location,G=t.cookie,P=e.jstag||{},U=P.config||{},B="length",W="2.0.0",F={},J=Array.prototype.slice,D=Object.prototype.toString,L=f(),V=s(),$=void 0,H={};e.jstag=P,P.isLoaded=!0,P.isSendable=!1,e.console||(e.console={log:function(){}}),P.config=c({url:"",Q:[],payloadQueue:[],id:void 0,cid:void 0,getid:l,loadid:void 0,serializer:x,pipeline:["identity","analyze"],delay:2e3,blockload:!1,path:"/c/",idpath:"/cid/",cookie:"seerid",sesname:"seerses",stream:void 0,sessecs:1800,channel:"Gif",qsargs:[],ref:!0,tagid:"jstag-csdk",pagedata:{},version:W},U),P.extend=c,P.parseUri=s,P.setid=function(e){E=e;var t=y(U.cookie);t&&t[B]&&"undefined"!=t&&(N=t);var n=new Date;n.setTime(n.getTime()+7776e6),b(U.cookie,e,n)},P.getid=function(e){if(U.getid&&i(U.getid)){e=e?e:function(){};var t=y(U.cookie);t&&t[B]&&"undefined"!=t?(E=t,e(E)):U.getid(e)}return E},"_c"in P&&p(P._c),P.init=P.connect=p;var K={};P.bind=h,P.emit=g,P.ckieGet=y,P.ckieSet=b,P.channels={Gif:function(n){return{images:[],send:function(n,a){if(t.images){var o=new Image,r=function(e){if(!a.callback.hasRun){a.callback.hasRun=!0;try{a.callback(e)}catch(t){}}};this.images.push(o),2===arguments.length&&a&&i(a.callback)&&(a.callback.hasRun=!1,o.onload&&(o.onload=r()),e.setTimeout(function(){r({timeout:!0})},P.config.delay)),o.src=this.getUrl(n)}},getUrl:function(e){var t=n.sendurl;return t+=t.indexOf("?")<1?"?":"&",t+e}}},Form:function(e){this.config=e;var n=function(t){var n=new P.channels.Gif(e);try{n.send(t)}catch(i){}};return{send:function(i,a){try{var o,r,c=t.createElement("iframe"),s="f"+Math.floor(99999*Math.random()),d=function(e){a&&a.callback&&!a.callback.hasRun&&(a.callback.hasRun=!0,a.callback(e))};t.body.appendChild(c),c.style.display="none",c.id=s,setTimeout(function(){return o=c.contentWindow.document.createElement("form"),c.contentWindow.document.body?(c.contentWindow.document.body.appendChild(o),o.setAttribute("action",e.sendurl),o.setAttribute("method","post"),r=c.contentWindow.document.createElement("input"),r.setAttribute("type","hidden"),r.setAttribute("name","_js"),r.value=i,o.appendChild(r),o.submit(),void setTimeout(function(){try{t.body.removeChild(c)}catch(e){}d({timeout:!0})},2*U.delay)):n(i)},0)}catch(l){n(i)}}}}};var X={analyze:function(e){"_e"in e.data||(e.data._e="pv");for(var t in H)e.data[t]=H[t]},identity:function(t){if(w()){t.data._mob="t";var i="unknown";n.userAgent.match(/Android/i)?i="Android":n.userAgent.match(/BlackBerry/i)?i="Blackberry":n.userAgent.match(/iPhone|iPad|iPod/i)?i="IOS":n.userAgent.match(/IEMobile/i)&&(i="WinMobile"),t.data._device=i}else t.data._nmob="t",t.data._device="desktop";t.data.url=C.href.replace("http://","").replace("https://",""),e.location!=e.parent.location&&(t.data._if="t"),"_uid"in t.data&&(!t.data._uid||"null"==t.data._uid||"undefined"==t.data._uid)&&delete t.data._uid;var a=y("__utma"),o=-1;if(a&&a[B]>10&&(o=a.indexOf(".",10),t.data._ga=a.substring(0,o)),!("_uid"in t.data))if(E)t.data._uid=E;else{var r=y(U.cookie);r&&r[B]&&"undefined"!=r&&(E=t.data._uid=r)}R&&(t.data._getid="t"),N&&(t.data._uido=N);var c=y("optimizelyEndUserId");c&&(t.data.optimizelyid=c),"_v"in t.data||(t.data._v=W)}};X.analyze.onetime=!0,P.Io=q,P.parseEvent=z,P.block=O,P.send=Q,P.mock=S,P.pageView=I,P.identify=T,q.prototype=function(){var n=[],a=null,d=null,l=null;return{init:function(o){if(a=this,d=U,!d.url||""===d.url){var c=t.getElementById(d.tagid),u=null;c&&(u=s(c.getAttribute("src")),d.url="//"+u.authority)}if(!d.url||!d.cid)throw new Error("Must have collection url and ProjectIds (cid)");P.config.url=d.url,"cid"in d&&(r(d.cid)?P.config.cid=d.cid:P.config.cid=[d.cid]),this.serializer=d.serializer,"io"in F?F.io.push(this):F.io=[this],this.channel=new P.channels[d.channel](d);for(var f=d.pipeline.length-1;f>=0;f--)l=d.pipeline[f],i(l)?n.push(l):l in X?n.push(X[l]):item in e&&n.push(e[l]);if(d.Q&&d.length>0)for(var p=d.Q.length-1;p>=0;p--)a.send.apply(a,d.Q[p]);d.Q&&(d.Q.push=function(){a.send.apply(a,Array.prototype.slice.call(arguments))}),P.emit("io.ready",this)},collect:function(e){var t,n=this,a={},r=U;if(P.emit("send.before",e),this.data=e.data,e.data._ca="jstag1",a=c(U.pagedata,e.data),t=this.serializer(a),e.sendurl||(e.sendurl=[]),e.sendurl.push(r.sendurl),e.dataMsg=t,e.channelName=r.channel,e.mock)return void(i(e.callback)&&e.callback(e,n));var s=this.channel;o(t)&&t.length+r.sendurl.length>2e3&&(s=new P.channels.Form(r),e.channelName="Form"),s.send(t,{callback:function(t){e.returndata=t,i(e.callback)&&e.callback(e,n),P.emit("send.finished",e,n)}})},send:function(e){if(r(U.cid))for(var t=U.cid.length-1;t>=0;t--)this.sendcid(U.cid[t],e);else this.sendcid(U.cid,e)},sendcid:function(e,t){var a=c(a,t.data)||{};t.data=a,t.config=this.config,t.data._ts=(new Date).getTime();var o=this,r=d.url+d.path+e,s=[];d.stream=t.stream||P.config.stream,d.sendurl=d.stream?r+"/"+d.stream:r,-1==d.sendurl.indexOf("_uidn=")&&"seerid"!=U.cookie&&(d.sendurl=k(d.sendurl,"_uidn",U.cookie));for(var l=n.length-1;l>=0;l--)n[l](t),n[l].onetime||s.push(n[l]);return n=s,E?o.collect(t):void(U.getid&&i(U.getid)?U.getid(function(e){e&&!t.data._uid&&(t.data._uid=e,R="t",t.data._getid="t",E=e),o.collect(t)}):o.collect(t))},debug:function(){return"<table><tr><th>field</th><th>value</th></tr>"+M(this.data)+"<tr><th>config</th></tr><tr>"+M(U)+"</tr></table>"}}}(),e&&"jstagAsyncInit"in e&&i(e.jstagAsyncInit)&&e.jstagAsyncInit(),"ready"in P||(P.ready=function(){}),P.load=function(){return this},v(),P.emit("ready")}(window,document,window.navigator);