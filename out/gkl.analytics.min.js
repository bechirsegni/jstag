if(window.analytics){window.analyticsq=window.analytics;window.analytics=[]}(function(){var analytics={userId:null,date:new Date,loaded:false,initialized:false,readyCallbacks:[],timeout:300,initializableProviders:{},providers:[],addProvider:function(name,provider){this.initializableProviders[name]=provider},initialize:function(providers){this.providers=[];this.userId=null;for(var key in providers){var provider=this.initializableProviders[key];var settings=providers[key];if(!provider)throw new Error('Could not find a provider named "'+key+'"');provider.initialize(settings);this.providers.push(provider)}this.initialized=true;for(var i=0,callback;callback=this.readyCallbacks[i];i++){callback()}var userId=this.utils.getUrlParameter(window.location.search,"ajs_uid");if(userId)this.identify(userId);var event=this.utils.getUrlParameter(window.location.search,"ajs_event");if(event)this.track(event)},identify:function(userId,traits,callback){if(!this.initialized)return;if(this.utils.isFunction(traits)){callback=traits;traits=null}if(this.utils.isObject(userId)){if(traits&&this.utils.isFunction(traits))callback=traits;traits=userId;userId=null}if(userId!==null)this.userId=userId;else userId=this.userId;for(var i=0,provider;provider=this.providers[i];i++){if(!provider.identify)continue;provider.identify(userId,this.utils.clone(traits))}if(callback&&this.utils.isFunction(callback)){setTimeout(callback,this.timeout)}},track:function(event,properties,callback){if(!this.initialized)return;if(this.utils.isFunction(properties)){callback=properties;properties=null}for(var i=0,provider;provider=this.providers[i];i++){if(!provider.track)continue;provider.track(event,this.utils.clone(properties))}if(callback&&this.utils.isFunction(callback)){setTimeout(callback,this.timeout)}},trackLink:function(link,event,properties){if(!link)return;if(this.utils.isElement(link))link=[link];var self=this;for(var i=0;i<link.length;i++){(function(el){self.utils.bind(el,"click",function(e){if(self.utils.isFunction(properties))properties=properties(el);self.track(event,properties);if(el.href&&el.target!=="_blank"&&!self.utils.isMeta(e)){if(e.preventDefault)e.preventDefault();else e.returnValue=false;setTimeout(function(){window.location.href=el.href},self.timeout)}})})(link[i])}},trackForm:function(form,event,properties){if(!form)return;if(this.utils.isElement(form))form=[form];var self=this;for(var i=0;i<form.length;i++){(function(el){self.utils.bind(el,"submit",function(e){if(self.utils.isFunction(properties))properties=properties(el);self.track(event,properties);if(e.preventDefault)e.preventDefault();else e.returnValue=false;setTimeout(function(){el.submit()},self.timeout)})})(form[i])}},pageview:function(url){if(!this.initialized)return;for(var i=0,provider;provider=this.providers[i];i++){if(!provider.pageview)continue;provider.pageview(url)}},alias:function(newId,originalId){if(!this.initialized)return;for(var i=0,provider;provider=this.providers[i];i++){if(!provider.alias)continue;provider.alias(newId,originalId)}},ready:function(callback){if(!this.utils.isFunction(callback))return;if(this.initialized){callback()}else{this.readyCallbacks.push(callback)}},utils:{bind:function(el,event,callback){if(el.addEventListener){el.addEventListener(event,callback,false)}else if(el.attachEvent){el.attachEvent("on"+event,callback)}},isMeta:function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return true;var which=e.which,button=e.button;if(!which&&button!==undefined){return!button&1&&!button&2&&button&4}else if(which===2){return true}return false},getSeconds:function(time){return Math.floor(new Date(time)/1e3)},extend:function(obj){if(!this.isObject(obj))return;var args=Array.prototype.slice.call(arguments,1);for(var i=0,source;source=args[i];i++){if(!this.isObject(source))return;for(var property in source){obj[property]=source[property]}}return obj},clone:function(obj){if(!obj)return;return this.extend({},obj)},alias:function(obj,aliases){if(!this.isObject(obj))return;for(var prop in aliases){var alias=aliases[prop];if(obj[prop]!==undefined){obj[alias]=obj[prop];delete obj[prop]}}},isElement:function(obj){return!!(obj&&obj.nodeType===1)},isArray:Array.isArray||function(obj){return Object.prototype.toString.call(obj)==="[object Array]"},isObject:function(obj){return obj===Object(obj)},isString:function(obj){return Object.prototype.toString.call(obj)==="[object String]"},isFunction:function(obj){return Object.prototype.toString.call(obj)==="[object Function]"},isNumber:function(obj){return Object.prototype.toString.call(obj)==="[object Number]"},isEmail:function(string){return/.+\@.+\..+/.test(string)},resolveSettings:function(settings,fieldName){if(!this.isString(settings)&&!this.isObject(settings))throw new Error("Could not resolve settings.");if(!fieldName)throw new Error("You must provide an api key field name.");if(this.isString(settings)){var apiKey=settings;settings={};settings[fieldName]=apiKey}return settings},getUrlParameter:function(urlSearchParameter,paramKey){var params=urlSearchParameter.replace("?","").split("&");for(var i=0;i<params.length;i+=1){var param=params[i].split("=");if(param.length===2&&param[0]===paramKey){return decodeURIComponent(param[1])}}},parseUrl:function(url){var a=document.createElement("a");a.href=url;return{href:a.href,host:a.host||location.host,hash:a.hash,hostname:a.hostname||location.hostname,pathname:a.pathname.charAt(0)!=="/"?"/"+a.pathname:a.pathname,protocol:!a.protocol||":"===a.protocol?location.protocol:a.protocol,search:a.search,query:a.search.slice(1)}},getCookie:function(name){if(document.cookie.length>0){var start=document.cookie.indexOf(name+"=");if(start!==-1){start=start+name.length+1;var end=document.cookie.indexOf(";",start);if(end===-1)end=document.cookie.length;return unescape(document.cookie.substring(start,end))}}},setCookie:function(name,value,expirationDays){var expirationDate=new Date;expirationDate.setDate(expirationDate.getDate()+expirationDays);var expirationAndPath=expirationDays===null?"":";expires="+expirationDate.toGMTString()+";path="+escape("/");document.cookie=name+"="+escape(value)+expirationAndPath}}};analytics.trackClick=analytics.trackLink;analytics.trackSubmit=analytics.trackForm;var oldonload=window.onload;window.onload=function(){analytics.loaded=true;if(analytics.utils.isFunction(oldonload))oldonload()};window.analytics=analytics})();analytics.addProvider("Google Analytics",{settings:{anonymizeIp:false,enhancedLinkAttribution:false,siteSpeedSampleRate:null,domain:null,trackingId:null},initialize:function(settings){settings=analytics.utils.resolveSettings(settings,"trackingId");analytics.utils.extend(this.settings,settings);var _gaq=window._gaq=window._gaq||[];_gaq.push(["_setAccount",this.settings.trackingId]);if(this.settings.domain){_gaq.push(["_setDomainName",this.settings.domain])}if(this.settings.enhancedLinkAttribution){var pluginUrl=("https:"===document.location.protocol?"https://www.":"http://www.")+"google-analytics.com/plugins/ga/inpage_linkid.js";_gaq.push(["_require","inpage_linkid",pluginUrl])}if(analytics.utils.isNumber(this.settings.siteSpeedSampleRate)){_gaq.push(["_setSiteSpeedSampleRate",this.settings.siteSpeedSampleRate])}if(this.settings.anonymizeIp){_gaq.push(["_gat._anonymizeIp"])}var canonicalUrl,metaTags=document.getElementsByTagName("meta");for(var i=0,tag;tag=metaTags[i];i++){if(tag.getAttribute("rel")==="canonical"){canonicalUrl=analytics.utils.parseUrl(tag.getAttribute("href")).pathname}}_gaq.push(["_trackPageview",canonicalUrl]);(function(){var ga=document.createElement("script");ga.type="text/javascript";ga.async=true;ga.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga,s)})()},track:function(event,properties){properties||(properties={});var value;if(analytics.utils.isNumber(properties.value))value=properties.value;window._gaq.push(["_trackEvent",properties.category||"All",event,properties.label,Math.round(properties.revenue)||value,properties.noninteraction])},pageview:function(url){window._gaq.push(["_trackPageview",url])}});analytics.addProvider("KISSmetrics",{settings:{apiKey:null},initialize:function(settings){settings=analytics.utils.resolveSettings(settings,"apiKey");analytics.utils.extend(this.settings,settings);var _kmq=window._kmq=window._kmq||[];function _kms(u){setTimeout(function(){var d=document,f=d.getElementsByTagName("script")[0],s=d.createElement("script");s.type="text/javascript";s.async=true;var protocol="https:"==document.location.protocol?"https:":"http:";s.src=protocol+u;f.parentNode.insertBefore(s,f)},1)}_kms("//i.kissmetrics.com/i.js");_kms("//doug1izaerwt3.cloudfront.net/"+this.settings.apiKey+".1.js")},identify:function(userId,traits){if(userId)window._kmq.push(["identify",userId]);if(traits)window._kmq.push(["set",traits])},track:function(event,properties){analytics.utils.alias(properties,{revenue:"Billing Amount"});window._kmq.push(["record",event,properties])},alias:function(newId,originalId){window._kmq.push(["alias",newId,originalId])}});analytics.addProvider("Lytics",{settings:{url:"//c.lytics.io",cid:"YOUR_ID"},settings:{appId:null},initialize:function(settings){settings=analytics.utils.resolveSettings(settings,"cid");analytics.utils.extend(this.settings,settings);var jstag=window.jstag=window.jstag||function(){var t={_q:[],_c:{},ts:(new Date).getTime()},l=false,w=window,d=document,src="/static/io",as=Array.prototype.slice,sp;t.init=function(c){sp=c.js?c.js:c.url||"";c.ext=c.ext||".min.js";t._c=c;return this};t.load=function(){var js,fjs=d.getElementsByTagName("script")[0];l=true;if(!("JSON"in w&&Array.prototype.forEach))src+="w";if(d.getElementById(src))return this;js=d.createElement("script");js.id=src;js.src=sp+src+t._c.ext;fjs.parentNode.insertBefore(js,fjs);return this};t.bind=function(e){this._q.push([e,as.call(arguments,1)])};t.ready=function(){this._q.push(["ready",as.call(arguments)])};t.send=function(){if(!l)this.load();this._q.push(["ready","send",as.call(arguments)]);return this};return t}();jstag.init({cid:settings.cid,url:"//c.lytics.io"}).load()},identify:function(userId,traits){window.jstag.send(traits)},track:function(event,properties){console.log(event);console.log(properties);window.jstag.send(properties)},pageview:function(url){window.jstag.send()},alias:function(newId,originalId){}});(function(w){var oldonload=w.onload;w.onload=function(){var aq=w.analyticsq,at=w.analytics;if(!at.utils.isArray(aq)){aq=[]}if(!aq.initialize){aq.initialize=function(args){at.initialize.call(args)}}if(aq.asyncInit&&at.utils.isFunction(aq.asyncInit)){aq.asyncInit()}while(w.analyticsq.length>0){var n=w.analyticsq.shift(),r=n.shift();at[r]&&at[r].apply(at,n)}at.pageview();if(at.utils.isFunction(oldonload))oldonload()}})(window);