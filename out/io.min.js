!function(e,t,n){function i(e){return"[object Function]"===D.call(e)}function a(e){return"[object Object]"===D.call(e)}function o(e){return"[object String]"===D.call(e)}function r(e){return"[object Array]"===D.call(e)}function c(){var e={},t=!1,n=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var a=function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t&&"[object Object]"===Object.prototype.toString.call(n[i])?e[i]=c(!0,e[i],n[i]):e[i]=n[i])};i>n;n++){var o=arguments[n];a(o)}return e}function s(e){void 0===e&&(e=C.href);for(var t={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"qs",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},a=14;a--;)i[t.key[a]]=n[a]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,a){n&&(i[t.q.name][n]=decodeURIComponent(a))}),i}function d(){return(65536*(1+Math.random())).toString()}function l(e){N.setid(d()),i(e)&&e(Q)}function u(e){if(!jQuery)return void N.setid(d());if(jQuery&&jQuery.ajax&&i(jQuery.ajax)){var t=P.url+P.idpath+P.cid[0];jQuery.ajax({url:t,dataType:"jsonp",success:function(t){N.setid(t),R="t",e(t)}})}}function f(){var e="";try{e=top.document.referrer}catch(n){try{e=parent.document.referrer}catch(i){e=""}}return""===e&&(e=t.referrer),e}function p(e){return P=c(N.config,e),P.loadid&&(P.getid=u),j(),N}function h(e,t,n){t.opts=c({},n),e in H?H[e].push(t):H[e]=[t]}function g(e){var t,n=[],a=[],o=Array.prototype.slice.call(arguments,1);if(H[e]&&H[e].length)for(var r=0,c=H[e].length;c>r;r++)i(H[e][r])&&(t=H[e][r],t.opts.onetime?n.push(t):(t.apply({},o),a.push(H[e][r])));H[e]=a;for(var s=n[U]-1;s>=0;s--)n[s].apply({},o)}function m(e){o(e[1])&&e[1]in N?h(e[0],function(){N[e[1]].apply(N,J.call(e[2]?e[2]:{}))}):h.apply(N,[e[0]].concat(J.call(e[1])))}function v(){if("_q"in N&&r(N._q))for(var e=N._q.length-1;e>=0;e--)m(N._q[e])}function b(){var e,t,n={};if(window.jstag._q&&window.jstag._q.length)for(var i=window.jstag._q.length-1;i>=0;i--)e=window.jstag._q[i],3===e.length&&(t=e[2][e[2].length-1]),n=c(n,t);return n}function y(e){if(G[U]>0){var t,n=G.indexOf(e+"=");if(-1!=n)return n+=e.length+1,t=G.indexOf(";",n),-1==t&&(t=G[U]),unescape(G.substring(n,t))}return null}function w(e,n,i,a,o,r){var c=o;if(!o&&L&&L.host){var s=L.host.split(".");c=L.host,s.length>1&&(o="."+s[s.length-2]+"."+s[s.length-1])}a=a||"/";var d=e+"="+escape(n)+(i?"; expires="+i.toGMTString():"")+(a?"; path="+a:"")+(o?"; domain="+o:"")+(r?"; secure":""),l=e+"="+escape(n)+(i?"; expires="+i.toGMTString():"")+(a?"; path="+a:"")+(c?"; domain="+c:"")+(r?"; secure":"");t.cookie=d,t.cookie=l}function k(e,t,n){return e+=e.indexOf("?")<1?"?":"&",e+t+"="+n}function _(){var e=navigator.userAgent||navigator.vendor||window.opera,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4));return!!t}function j(){V=y(N.config.sesname);for(var e in L.qs)0===e.indexOf("utm_")&&($[e]=L.qs[e]);if(N.config.qsargs&&r(N.config.qsargs))for(var t=null,i=N.config.qsargs.length-1;i>=0;i--)t=N.config.qsarg,t in L.qs&&($[t]=L.qs[t]);if(V||($._sesstart="1"),F&&F[U]>1){var a=F.toString().match(/\/\/(.*)\//);a&&-1==a[1].indexOf(C.host)&&($._ref=F.replace("http://","").replace("https://",""),V||($._sesref=F.replace("http://","").replace("https://","")))}var o=new Date;o.setTime(o.getTime()+1e3*N.config.sessecs),w(N.config.sesname,"e",o),$._tz=parseInt(o.getTimezoneOffset()/60*-1)||"0",$._ul="Netscape"==n.appName?n.language:n.userLanguage,"object"==typeof screen&&($._sz=screen.width+"x"+screen.height)}function q(e){return encodeURIComponent(e)}function x(e,t){var n=[],c="";if(1==arguments.length&&(t=""),r(e)){window.JSON&&n.push("_json="+q(JSON.stringify(e)));for(var s=e.length-1;s>=0;s--)n.push(x(e[s],t));return n.join("&")}for(var d in e)if(e.hasOwnProperty(d))if(c=q(d),""!==t&&(c=t+"."+c),a(e[d]))n.push(x(e[d],d));else if(i(e[d]))n.push(c+"="+q(e[d]()));else if(r(e[d])){n.push(c+"_len="+e[d].length),window.JSON&&n.push(c+"_json="+q(window.JSON.stringify(e[d])));for(var l=e[d].length-1;l>=0;l--)a(e[d][l])?n.push(x(e[d][l],c)):null!==e[d][l]&&void 0!==e[d][l]&&n.push(c+"="+q(e[d][l]))}else o(e[d])&&e[d].length>0?n.push(c+"="+q(e[d])):null!==e[d]&&void 0!==e[d]&&n.push(c+"="+q(e[d]));return n.join("&")}function z(e){return this instanceof z?(this.init(e),this):new z(e)}function O(e){var t,n,i,a;0===arguments.length&&console.warn("no arguments passed to jstag.send event"),a=!1;for(var o in arguments)switch(typeof arguments[o]){case"string":t=arguments[o];break;case"boolean":a=arguments[o];break;case"function":i=arguments[o];break;case"object":n=arguments[o];break;default:console.warn("unable to process jstag.send event: unknown value type ("+typeof arguments[o]+")")}return{data:n,callback:i,stream:t,mock:a}}function A(){var e;if(e=O.apply(this,arguments),e.mock&&(tempqdata=b(),e.data=c(tempqdata,e.data)),"io"in W&&r(W.io))for(var t=W.io.length-1;t>=0;t--)return W.io[t].send(e);else{var n=new z;n.send(e)}}function S(){[].push.call(arguments,!0),N.send.apply(this,arguments)}function I(){var e,t,n="default",i=arguments;o(i[0])?(n=i[0],e=i[1],3===i.length&&(t=i[2])):(e=i[0],2===i.length&&(t=i[1])),a(e)||(e={}),"_e"in e||(e._e="pv");for(var r in $)e[r]=$[r];A(e,t,n)}function T(){var e,t="",n="default",i={},a=arguments;t=a[0],o(a[1])?(n=a[1],i=a[2],4===a.length&&(e=a[3])):(i=a[1],3===a.length&&(e=a[2])),i||(i={}),i.user_id=t,A(i,e,n)}function M(e,t){var n="";t=t||"";for(var o in e)a(e[o])?n+=M(e[o],o+"."):i(e[o])||(n+="<tr><td>"+t+o+"</td><td>"+e[o]+"</td></tr>");return n}var Q,E,R,C=t.location,G=t.cookie,N=e.jstag||{},P=N.config||{},U="length",B="1.31",W={},J=Array.prototype.slice,D=Object.prototype.toString,F=f(),L=s(),V=void 0,$={};e.jstag=N,N.isLoaded=!0,N.isSendable=!1,e.console||(e.console={log:function(){}}),N.config=c({url:"",Q:[],id:void 0,cid:void 0,getid:l,loadid:void 0,serializer:x,pipeline:["identity","analyze"],delay:2e3,path:"/c/",idpath:"/cid/",cookie:"seerid",sesname:"seerses",stream:void 0,sessecs:1800,channel:"Gif",qsargs:[],ref:!0,tagid:"jstag-csdk",pagedata:{},version:B},P),N.extend=c,N.parseUri=s,N.setid=function(e){Q=e;var t=y(P.cookie);t&&t[U]&&"undefined"!=t&&(E=t);var n=new Date;n.setTime(n.getTime()+7776e6),w(P.cookie,e,n)},N.getid=function(e){if(P.getid&&i(P.getid)){e=e?e:function(){};var t=y(P.cookie);t&&t[U]&&"undefined"!=t?(Q=t,e(Q)):P.getid(e)}return Q},"_c"in N&&p(N._c),N.init=N.connect=p;var H={};N.bind=h,N.emit=g,N.ckieGet=y,N.ckieSet=w,N.channels={Gif:function(n){return{images:[],send:function(n,a){if(t.images){var o=new Image,r=function(e){if(!a.callback.hasRun){a.callback.hasRun=!0;try{a.callback(e)}catch(t){}}};this.images.push(o),2===arguments.length&&a&&i(a.callback)&&(a.callback.hasRun=!1,o.onload&&(o.onload=r()),e.setTimeout(function(){r({timeout:!0})},N.config.delay)),o.src=this.getUrl(n)}},getUrl:function(e){var t=n.sendurl;return t+=t.indexOf("?")<1?"?":"&",t+e}}},Form:function(e){this.config=e;var n=function(t){var n=new N.channels.Gif(e);try{n.send(t)}catch(i){}};return{send:function(i,a){try{var o,r,c=t.createElement("iframe"),s="f"+Math.floor(99999*Math.random()),d=function(e){a&&a.callback&&!a.callback.hasRun&&(a.callback.hasRun=!0,a.callback(e))};t.body.appendChild(c),c.style.display="none",c.id=s,setTimeout(function(){return o=c.contentWindow.document.createElement("form"),c.contentWindow.document.body?(c.contentWindow.document.body.appendChild(o),o.setAttribute("action",e.sendurl),o.setAttribute("method","post"),r=c.contentWindow.document.createElement("input"),r.setAttribute("type","hidden"),r.setAttribute("name","_js"),r.value=i,o.appendChild(r),o.submit(),void setTimeout(function(){try{t.body.removeChild(c)}catch(e){}d({timeout:!0})},2*P.delay)):n(i)},0)}catch(l){n(i)}}}}};var K={analyze:function(e){"_e"in e.data||(e.data._e="pv");for(var t in $)e.data[t]=$[t]},identity:function(t){if(_()){t.data._mob="t";var i="unknown";n.userAgent.match(/Android/i)?i="Android":n.userAgent.match(/BlackBerry/i)?i="Blackberry":n.userAgent.match(/iPhone|iPad|iPod/i)?i="IOS":n.userAgent.match(/IEMobile/i)&&(i="WinMobile"),t.data._device=i}else t.data._nmob="t",t.data._device="desktop";t.data.url=C.href.replace("http://","").replace("https://",""),e.location!=e.parent.location&&(t.data._if="t"),"_uid"in t.data&&(!t.data._uid||"null"==t.data._uid||"undefined"==t.data._uid)&&delete t.data._uid;var a=y("__utma"),o=-1;if(a&&a[U]>10&&(o=a.indexOf(".",10),t.data._ga=a.substring(0,o)),!("_uid"in t.data))if(Q)t.data._uid=Q;else{var r=y(P.cookie);r&&r[U]&&"undefined"!=r&&(Q=t.data._uid=r)}R&&(t.data._getid="t"),E&&(t.data._uido=E);var c=y("optimizelyEndUserId");c&&(t.data.optimizelyid=c),"_v"in t.data||(t.data._v=B)}};K.analyze.onetime=!0,N.Io=z,N.parseEvent=O,N.send=A,N.mock=S,N.pageView=I,N.identify=T,z.prototype=function(){var n=[],a=null,d=null,l=null;return{init:function(o){if(a=this,d=P,!d.url||""===d.url){var c=t.getElementById(d.tagid),u=null;c&&(u=s(c.getAttribute("src")),d.url="//"+u.authority)}if(!d.url||!d.cid)throw new Error("Must have collection url and ProjectIds (cid)");N.config.url=d.url,"cid"in d&&(r(d.cid)?N.config.cid=d.cid:N.config.cid=[d.cid]),this.serializer=d.serializer,"io"in W?W.io.push(this):W.io=[this],this.channel=new N.channels[d.channel](d);for(var f=d.pipeline.length-1;f>=0;f--)l=d.pipeline[f],i(l)?n.push(l):l in K?n.push(K[l]):item in e&&n.push(e[l]);if(d.Q&&d.length>0)for(var p=d.Q.length-1;p>=0;p--)a.send.apply(a,d.Q[p]);d.Q&&(d.Q.push=function(){a.send.apply(a,Array.prototype.slice.call(arguments))}),N.emit("io.ready",this)},collect:function(e){var t,n=this,a={},r=P;if(N.emit("send.before",e),this.data=e.data,e.data._ca="jstag1",a=c(P.pagedata,e.data),t=this.serializer(a),e.dataMsg=t,e.mock)return void(i(e.callback)&&e.callback(e,n));var s=this.channel;o(t)&&t.length+r.sendurl.length>2e3&&(s=new N.channels.Form(r)),s.send(t,{callback:function(t){e.returndata=t,i(e.callback)&&e.callback(e,n),N.emit("send.finished",e,n)}})},send:function(e){if(r(P.cid))for(var t=P.cid.length-1;t>=0;t--)this.sendcid(P.cid[t],e);else this.sendcid(P.cid,e)},sendcid:function(e,t){var a=c(a,t.data)||{};t.config=this.config,a._ts=(new Date).getTime();var o=this,r=d.url+d.path+e,s=[];d.stream=t.stream||N.config.stream,d.sendurl=d.stream?r+"/"+d.stream:r,-1==d.sendurl.indexOf("_uidn=")&&"seerid"!=P.cookie&&(d.sendurl=k(d.sendurl,"_uidn",P.cookie));for(var l=n.length-1;l>=0;l--)n[l](t),n[l].onetime||s.push(n[l]);return n=s,Q?o.collect(t):void(P.getid&&i(P.getid)?P.getid(function(e){e&&!a._uid&&(a._uid=e,R="t",a._getid="t",Q=e),o.collect(t)}):o.collect(t))},debug:function(){return"<table><tr><th>field</th><th>value</th></tr>"+M(this.data)+"<tr><th>config</th></tr><tr>"+M(P)+"</tr></table>"}}}(),e&&"jstagAsyncInit"in e&&i(e.jstagAsyncInit)&&e.jstagAsyncInit(),"ready"in N||(N.ready=function(){}),N.load=function(){return this},v(),N.emit("ready")}(window,document,window.navigator);