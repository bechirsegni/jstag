"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,o,i,a,u=gap,c=e[t];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof rep&&(c=rep.call(e,t,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?c+"":"null";case"boolean":case"null":return c+"";case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;i>n;n+=1)a[n]=str(n,c)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+u+"]":"["+a.join(",")+"]",gap=u,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;i>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,c),o&&a.push(quote(r)+(gap?": ":":")+o));else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(o=str(r,c),o&&a.push(quote(r)+(gap?": ":":")+o));return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+u+"}":"{"+a.join(",")+"}",gap=u,o}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(t,e,o)}var j;if(text+="",rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(t,e){"use strict";function n(t){var n=m({url:"//c.lytics.io",location:et.href,payloadQueue:[],id:e,cid:e,loadid:e,serializer:c,delay:2e3,blockload:!1,path:"/c/",idpath:"/cid/",cookie:ut,sesname:ct,stream:e,sessecs:1800,qsargs:[],ref:!0,tagid:"jstag-csdk",pagedata:{},version:at},t);return n.cid&&(n.cid=[].concat(n.cid)),n}function r(t){this.config=n(t),this.referrer=b(),this.pageData={},this.blocked=!1,this.changeId=null,this.listeners={}}function o(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];this.sendMessage(L(e))}function i(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=L(e);r.data=m({_e:"pv"},this.pageData,r.data),this.sendMessage(r)}function a(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=L(e);r.data=m({_e:"mk"},this.pageData,r.data),this.sendMessage(r,!0)}function u(t,e,n){var r=t.data;if(p()){r._mob="t";var o="unknown";/Android/i.test(it)?o="Android":/BlackBerry/i.test(it)?o="Blackberry":/iPhone|iPad|iPod/i.test(it)?o="IOS":/IEMobile/i.test(it)&&(o="WinMobile"),r._device=o}else r._nmob="t",r._device="desktop";r.url=k(et.href),d()&&(r._if="t"),"_uid"in r&&!r._uid&&delete r._uid;var i=z("__utma");if(i&&i.length>10&&(r._ga=i.substring(0,i.indexOf(".",10))),!("_uid"in r)){var a=z(e.cookie);a&&a.length&&(r._uid=a)}var u=z("optimizelyEndUserId");u&&(r.optimizelyid=u),"_v"in r||(r._v=at),n&&n.changeId&&(r._uido=n.changeId)}function c(t,e){e||(e="");var n=[];return F(t)?D(t)?(n.push(e+"_len="+t.length,e+"_json="+encodeURIComponent(JSON.stringify(t))),x(t,function(t){n.push(c(t,e))})):x(st(t),function(r){var o=encodeURIComponent(r),i=t[r];J(i)||(""!==e&&(o=[e,o].join(".")),F(i)?n.push(c(i,o)):(R(i)&&i.length>0||null!=i)&&n.push(o+"="+encodeURIComponent(i)))}):n.push(e+"="+t),n.join("&")}function s(e,n,r){return r||(r=t.document),m(r.createElement(e),n)}function f(){for(var t=null,e=0,n=arguments.length;n>e;e++)try{return arguments[e](t)}catch(r){t=r}}function l(t){t(Y())}function p(){rt.userAgent||rt.vendor||t.opera}function d(){return f(function(){return t.self!==t.top},function(){return!0})}function g(){x(lt,clearTimeout),lt.length=0}function h(t,e){for(var n=arguments.length,r=Math.min(2,n-1),o=Array(n-r),i=r;n>i;i++)o[i-r]=arguments[i];var a=setTimeout(function(){t.apply(null,o)},e);return lt.push(a),a}function y(t){for(var e=arguments.length,n=Math.min(1,e-1),r=Array(e-n),o=n;e>o;o++)r[o-n]=arguments[o];h.apply(null,[t,0].concat(r))}function m(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];var o=!1;return U(n[0])&&(o=!0,n=n.slice(1)),j(n,function(t,n){return n===e?t:(x(st(n),function(e){t[e]=o&&F(n[e])?m(!0,t[e],n[e]):n[e]}),t)})}function v(t,e){var n=t.config,r=G(n,n.cid[0],"idpath");t.jsonp(r,e)}function b(){return f(function(){return top.document.referrer},function(){return parent.document.referrer},function(){return nt.referrer})}function k(t){return t.replace(/^https?:\/\//,"")}function _(t){return function(){null!=t&&(t.apply(null,arguments),t=null)}}function x(t,e){for(var n=0,r=t.length;r>n;n++)e(t[n],n,t)}function w(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1}function j(t,e,n){var r=-1,o=t.length;for(2===arguments.length&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function S(t,e){return j(t,function(n,r,o){return n.push(e(r,o,t)),n},[])}function O(t,e){return j(t,function(n,r,o){return e(r,o,t)&&n.push(r),n},[])}function C(t){return j(st(t),function(e,n){return e.push([n,t[n]]),e},[])}function A(t){return j(t,function(t,e){return t[e[0]]=e[1],t},{})}function T(t,e){return A(O(C(t),e))}function I(t,e){return-1!==w(t,e)}function N(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function E(t,e){return 0===t.indexOf(e)}function M(t){var e=[];for(var n in t)e.push(n);return e}function J(t){return"function"==typeof t}function U(t){return"boolean"==typeof t}function F(t){return t&&"object"==typeof t}function D(t){return"[object Array]"==={}.toString.call(t)}function R(t){return"string"==typeof t}function q(t){return"number"==typeof t}function z(t){var e=RegExp(t+"=([^;]+)"),n=e.exec(decodeURIComponent(nt.cookie));return n&&n[1]}function B(t){P(t,"",-60)}function P(t,e,n){n||(n=7776e3);var r=Q(n),o=Z(et).hostname,i=t+"="+encodeURIComponent(e)+(o&&o.split(".").length>1?"; domain="+o:"")+("; expires="+r.toUTCString());nt.cookie=i}function Q(t){var e=new Date;return e.setTime(e.getTime()+1e3*t),e}function G(t,e,n){return""+t.url+t[n||"path"]+e}function L(t){var e,n,r;return x(t,function(t){switch(typeof t){case"string":e=t;break;case"function":r=t;break;case"object":n=t;break;case"boolean":H("boolean argument is passed to send. Ignoring.");break;default:throw new TypeError("unable to process jstag.send event: unknown value type ("+typeof t+")")}}),null==n&&(n={}),{stream:e,data:n,callback:r}}function V(t,e){return t+(I(t,"?")?"&":"?")+e}function W(){return(new Date).getTime()}function Y(){return"u_"+Math.floor(1e18*Math.random())}function $(){}function H(t){console.warn("Deprecation warning: "+t)}function Z(t){var e=s("a",{href:t}),n=O(M(e),function(t){var n=f(function(){return e[t]});return null==n?!1:R(n)}),r=A(S(n,function(t){return[t,e[t]]}));return null==r.origin&&(r.origin=K(r)),r}function K(t){return t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")}function X(t){var n={};return"string"!=typeof t?n:(t=N(t).replace(/^(\?|#|&)/,""))?(x(t.split("&"),function(t){var r=t.replace(/\+/g," ").split("="),o=r.shift(),i=r.length>0?r.join("="):e;o=decodeURIComponent(o),i=i===e?null:decodeURIComponent(i),n[o]===e?n[o]=i:D(n[o])?n[o].push(i):n[o]=[n[o],i]}),n):n}function tt(t){function e(){}try{return e.prototype=t,new e}catch(n){}}var et=t.location,nt=t.document,rt=t.navigator,ot=t.screen,it=rt.userAgent,at="2.1.0",ut="seerid",ct="seerses",st=Object.keys||function(t){return O(M(t),function(e){return{}.hasOwnProperty.call(t,e)})},ft={Gif:function(t){return{name:"Gif",send:function(e,n){var r=new Image,o=_(n.callback);r.onload=o,h(o,t.delay),r.src=V(e,n.dataMsg)}}},Form:function(t){return{name:"Form",send:function(e,n){var r=s("iframe",{id:Y()});r.style.display="none",nt.body.appendChild(r),y(function(){var o=r.contentWindow.document,i=s("form",{action:e,method:"post"},o),a=s("input",{value:n.dataMsg,type:"hidden",name:"_js"},o);i.appendChild(a),o.body.appendChild(i),i.submit(),h(function(){f(function(){nt.body.removeChild(r)}),J(n.callback)&&n.callback()},t.delay)})}}}};r.prototype={constructor:r,getid:function(t){var e=this,n=_(function(n){e.setid(n),t(n)}),r=z(this.config.cookie);r&&r.length?y(n,r):this.config.loadid?y(v,this,n):y(l,n)},setid:function(t){var e=this.config.cookie,n=z(e);n&&n.length&&(this.changeId=n),P(e,t)},clearCookies:function(){B(this.config.cookie),B(this.config.sesname)},parseEvent:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return L(e)},block:function(t){if(this.blocked)return this;var e=this;return this.blocked=this.config.blockload=!0,q(t)||(t=2e3),h(function(){e.unblock()},t),this},unblock:function(){if(!this.blocked)return this;var t=this;return this.blocked=this.config.blockload=!1,x(this.config.payloadQueue,function(e){t.sendMessage(e)}),this.config.payloadQueue.length=0,this},sendMessage:function(t,n){null==n&&(n=!1);var r=this,o=this.config;if(!o.url||!o.cid)throw new TypeError("Must have collection url and ProjectIds (cid)");if(this.blocked&&!n)return o.payloadQueue.push(t),e;if(n){if(null==t.callback)throw new TypeError("cannot call mock without a callback");var i=t.data;x(o.payloadQueue,function(t){m(i,t.data)})}t.stream||(t.stream=o.stream),x(this.config.cid,function(e){var i=G(o,e)+(t.stream?"/"+t.stream:"");-1===i.indexOf("_uidn=")&&o.cookie!==ut&&(i=V(i,"_uidn="+o.cookie)),t.data._ts=W(),u(t,o,r),r.getid(function(e){e&&!t.data._uid&&(t.data._uid=e,t.data._getid="t"),r.ioCollect(t,i,n)})})},ioCollect:function(t,n,r){var o=this,i=this.config;if(this.onSendStarted(t),t.dataMsg=i.serializer(m({},t.data)),t.sendurl||(t.sendurl=[]),t.sendurl.unshift(n),r)return y(t.callback,t,this),e;var a=this.ioGetTransport(t,n);t.channelName=a.name,a.send(n,m({},t,{callback:function(){J(t.callback)&&t.callback(t,o),o.onSendFinished(t)}}))},ioGetTransport:function(t,e){var n=this.config;return t.dataMsg.length+e.length>2e3?new ft.Form(n):new ft.Gif(n)},send:o,identify:o,mock:a,page:i,pageView:i,pageAnalysis:function(){var t=this.config,e=z(t.sesname),n=this.pageData,r=Z(t.location);if(r.search.length>0){var o=X(r.search);m(n,T(o,function(t){return E(t[0],"utm_")})),t.qsargs&&t.qsargs.length>0&&m(n,T(o,function(e){return I(t.qsargs,e[0])}))}e||(n._sesstart="1");var i=this.referrer;if(i&&i.length>0){var a=/\/\/(.*)\//.exec(i);if(a&&!I(a[1],et.host)){var u=k(i);n._ref=u,e||(n._sesref=u)}}P(t.sesname,"e",t.sessecs),n._tz=parseInt(-(new Date).getTimezoneOffset()/60,10),n._ul=rt.language||rt.userLanguage,ot&&(n._sz=ot.width+"x"+ot.height),this.pageData=n},jsonp:function(n,r){var o=Y(),i=s("script",{src:V(n,"callback="+o)});t[o]=_(function(){t[o]=e,f(function(){nt.body.removeChild(i)}),i=e,r.apply(null,arguments)}),nt.body.appendChild(i)},extend:m,parseUri:Z,parseQueryString:X,getCookie:z,setCookie:P,deleteCookie:B,onIoReady:$,onSendStarted:$,onSendFinished:$};var lt=[],pt="__lytics__jstag__",dt=function(){for(var t=nt.getElementsByTagName("script"),e=t.length,n=Array(e),r=0;e>r;r++)n[r]=t[r];for(var o=nt.getElementsByTagName("meta"),i=o.length,a=Array(i),u=0;i>u;u++)a[u]=o[u];var c=O(S(n.concat(a),function(t){return t.getAttribute("data-lytics-global")}),Boolean);if(c.length>1)throw Error("This page specified more than one data-lytics-global attribute. You should put the attribute on either a meta tag, or the script element itself, but not both");return 1===c.length?c[0]:"jstag"}();t[pt]||(t[pt]=t[dt]||{}),t[pt].JSTag=r,t[pt].init=function(){function e(e){x(e,function(e){t[pt][e]=function(){return o[e].apply(o,arguments)}})}function n(){o&&o.clearCookies(),g()}var o;return e(["send","mock","identify","page","pageView","block","unblock","parseEvent","clearCookies"]),t[pt].extend=m,t[pt].ckieGet=z,t[pt].ckieSet=P,t[pt].ckieDel=B,t[pt].isLoaded=!1,t[pt].util={forEach:x,reduce:j,map:S,filter:O,contains:I,pairs:C,object:A,filterObject:T,trim:N,extend:m,expose:e,once:_,parseUri:Z,parseQueryString:X},function(e){return n(),o=new r(e),o.pageAnalysis(),t[pt].isLoaded=!0,t[pt].config=o.config,n}}(),t[dt]=t[pt],tt(ft),tt(r),tt(r.prototype),tt(t[pt]),tt(t[pt].util)}(window);