!function(){"use strict";function n(n,e,t){var i=-1,r=n.length;for(2===arguments.length&&r&&(t=n[++i]);++i<r;)t=e(t,n[i],i,n);return t}function e(e,t){return n(e,function(n,i,r){return t(i,r,e)&&n.push(i),n},[])}function t(e,t){return n(e,function(n,i,r){return n.push(t(i,r,e)),n},[])}function i(n){return n&&"object"==typeof n}function r(n){return"[object Array]"==={}.toString.call(n)}function o(n){return"function"==typeof n}function a(n){return"string"==typeof n}function u(n,e){for(var t=0,i=n.length;i>t;t++)e(n[t],t,n)}function c(n){var e=[];for(var t in n)e.push(t);return e}function s(n,e){e||(e="");var t=[];return i(n)?r(n)?(t.push(e+"_len="+n.length,e+"_json="+pn(JSON.stringify(n))),u(n,function(n){t.push(s(n,e))})):u(mn(n),function(r){var u=pn(r),c=n[r];o(c)||(""!==e&&(u=[e,u].join(".")),i(c)?t.push(s(c,u)):(a(c)&&c.length>0||null!=c)&&t.push(u+"="+pn(c)))}):t.push(e+"="+n),t.join("&")}function d(n){return"boolean"==typeof n}function l(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];var o=!1;return d(t[0])&&(o=!0,t=t.slice(1)),n(t,function(n,e){return void 0===e?n:(u(mn(e),function(t){n[t]=o&&i(e[t])?l(!0,n[t],e[t]):e[t]}),n)})}function f(n){var e=l({url:"//c.lytics.io",location:vn.href,payloadQueue:[],id:void 0,cid:void 0,loadid:void 0,serializer:s,delay:2e3,blockload:!1,path:"/c/",idpath:"/cid/",cookie:yn,sesname:bn,stream:void 0,sessecs:1800,qsargs:[],ref:!0,tagid:"jstag-csdk",pagedata:{},version:wn},n);return e.cid&&(e.cid=[].concat(e.cid)),e}function g(n,e,t){return""+n.url+n[t||"path"]+e}function h(n,e){if(n._pendingGetId)n._pendingGetId.push(e);else{n._pendingGetId=[e];var t=n.config,i=g(t,t.cid[0],"idpath");n.jsonp(i,function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];var r=n._pendingGetId;n._pendingGetId=null,u(r,function(e){e.apply(n,t)})})}}function p(n){var e=RegExp(n+"=([^;]+)"),t=e.exec(decodeURIComponent(gn.cookie));return t&&t[1]}function m(n,e){for(var t=arguments.length,i=Math.min(2,t-1),r=Array(t-i),o=i;t>o;o++)r[o-i]=arguments[o];var a=setTimeout(function(){n.apply(null,r)},e);return kn.push(a),a}function v(n){for(var e=arguments.length,t=Math.min(1,e-1),i=Array(e-t),r=t;e>r;r++)i[r-t]=arguments[r];m.apply(null,[n,0].concat(i))}function w(){return"u_"+Math.floor(1e18*Math.random())}function y(n){n(w())}function b(n){return function(){null!=n&&(n.apply(null,arguments),n=null)}}function k(n){var e=this,t=b(function(t){e.setid(t),n(t)}),i=p(this.config.cookie);i&&i.length?v(t,i):this.config.loadid?v(h,this,t):v(y,t)}function _(n,e,t){return t||(t=gn),l(t.createElement(n),e)}function A(n){return n.protocol+"//"+n.hostname+(n.port?":"+n.port:"")}function I(){for(var n=null,e=0,t=arguments.length;t>e;e++)try{return arguments[e](n)}catch(i){n=i}}function j(e){return n(e,function(n,e){return n[e[0]]=e[1],n},{})}function C(n){var i=_("a",{href:n}),r=e(c(i),function(n){var e=I(function(){return i[n]});return null==e?!1:a(e)}),o=j(t(r,function(n){return[n,i[n]]}));return null==o.origin&&(o.origin=A(o)),o}function M(n){var e=new Date;return e.setTime(e.getTime()+1e3*n),e}function T(n,e,t){t||(t=7776e3);var i=M(t),r=C(vn).hostname,o=n+"="+pn(e)+(r&&r.split(".").length>1?"; domain="+r:"")+("; expires="+i.toUTCString());gn.cookie=o}function E(n){var e=this.config.cookie,t=p(e);t&&t.length&&(this.changeId=t),T(e,n)}function x(n){console.warn("Deprecation warning: "+n)}function S(n){var e,t,i;return u(n,function(n){switch(typeof n){case"string":e=n;break;case"function":i=n;break;case"object":t=n;break;case"boolean":x("boolean argument is passed to send. Ignoring.");break;default:throw new TypeError("unable to process jstag.send event: unknown value type ("+typeof n+")")}}),null==t&&(t={}),{stream:e,data:t,callback:i}}function D(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];this.sendMessage(S(e))}function F(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];var i=S(e);i.data=l({_e:"mk"},this.pageData,i.data),this.sendMessage(i,!0)}function G(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];var i=S(e);i.data=l({_e:"pv"},this.pageData,i.data),this.sendMessage(i)}function O(){_n.userAgent||_n.vendor||window.opera}function z(){return I(function(){return window.self!==window.top},function(){return!0})}function Q(n){return n.replace(/^https?:\/\//,"")}function U(n,e,t){var i=n.data;if(O()){i._mob="t";var r="unknown";/Android/i.test(An)?r="Android":/BlackBerry/i.test(An)?r="Blackberry":/iPhone|iPad|iPod/i.test(An)?r="IOS":/IEMobile/i.test(An)&&(r="WinMobile"),i._device=r}else i._nmob="t",i._device="desktop";i.url=Q(vn.href),z()&&(i._if="t"),"_uid"in i&&!i._uid&&delete i._uid;var o=p("__utma");if(o&&o.length>10&&(i._ga=o.substring(0,o.indexOf(".",10))),!("_uid"in i)){var a=p(e.cookie);a&&a.length&&(i._uid=a)}var u=p("optimizelyEndUserId");u&&(i.optimizelyid=u),"_v"in i||(i._v=wn),t&&t.changeId&&(i._uido=t.changeId)}function B(n,e){for(var t=0,i=n.length;i>t;t++)if(n[t]===e)return t;return-1}function P(n,e){return-1!==B(n,e)}function R(n,e){return n+(P(n,"?")?"&":"?")+e}function q(){return(new Date).getTime()}function N(n,e){null==e&&(e=!1);var t=this,i=this.config;if(!i.url||!i.cid)throw new TypeError("Must have collection url and ProjectIds (cid)");if(this.blocked&&!e)return void i.payloadQueue.push(n);if(e){if(null==n.callback)throw new TypeError("cannot call mock without a callback");var r=n.data;u(i.payloadQueue,function(n){l(r,n.data)})}n.stream||(n.stream=i.stream),u(this.config.cid,function(r){var o=g(i,r)+(n.stream?"/"+n.stream:"");-1===o.indexOf("_uidn=")&&i.cookie!==yn&&(o=R(o,"_uidn="+i.cookie)),n.data._ts=q(),U(n,i,t),t.getid(function(i){i&&!n.data._uid&&(n.data._uid=i,n.data._getid="t"),t.ioCollect(n,o,e)})})}function L(n){T(n,"",-60)}function J(){L(this.config.cookie),L(this.config.sesname)}function V(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return S(e)}function W(n){return"number"==typeof n}function Y(n){if(this.blocked)return this;var e=this;return this.blocked=this.config.blockload=!0,W(n)||(n=2e3),m(function(){e.unblock()},n),this}function $(){if(!this.blocked)return this;var n=this;return this.blocked=this.config.blockload=!1,u(this.config.payloadQueue,function(e){n.sendMessage(e)}),this.config.payloadQueue.length=0,this}function H(e){return n(mn(e),function(n,t){return n.push([t,e[t]]),n},[])}function K(n,t){return j(e(H(n),t))}function X(n){return n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function Z(n){var e={};return"string"!=typeof n?e:(n=X(n).replace(/^(\?|#|&)/,""))?(u(n.split("&"),function(n){var t=n.replace(/\+/g," ").split("="),i=t.shift(),o=t.length>0?t.join("="):void 0;i=jn(i),o=void 0===o?null:jn(o),void 0===e[i]?e[i]=o:r(e[i])?e[i].push(o):e[i]=[e[i],o]}),e):e}function nn(n,e){return 0===n.indexOf(e)}function en(){var n=this.config,e=p(n.sesname),t=this.pageData,i=C(n.location);if(i.search.length>0){var r=Z(i.search);l(t,K(r,function(n){return nn(n[0],"utm_")})),n.qsargs&&n.qsargs.length>0&&l(t,K(r,function(e){return P(n.qsargs,e[0])}))}e||(t._sesstart="1");var o=this.referrer;if(o&&o.length>0){var a=/\/\/(.*)\//.exec(o);if(a&&!P(a[1],vn.host)){var u=Q(o);t._ref=u,e||(t._sesref=u)}}T(n.sesname,"e",n.sessecs),t._tz=parseInt(-(new Date).getTimezoneOffset()/60,10),t._ul=_n.language||_n.userLanguage,In&&(t._sz=In.width+"x"+In.height),this.pageData=t}function tn(n,e,t){var i=this,r=this.config;if(this.onSendStarted(n),n.dataMsg=r.serializer(l({},n.data)),n.sendurl||(n.sendurl=[]),n.sendurl.unshift(e),t)return void v(n.callback,n,this);var a=this.ioGetTransport(n,e);n.channelName=a.name,a.send(e,l({},n,{callback:function(){o(n.callback)&&n.callback(n,i),i.onSendFinished(n)}}))}function rn(n){return{name:"Form",send:function(e,t){var i=_("iframe",{id:w()});i.style.display="none",gn.body.appendChild(i),v(function(){var r=i.contentWindow.document,a=_("form",{action:e,method:"post"},r),u=_("input",{value:t.dataMsg,type:"hidden",name:"_js"},r);a.appendChild(u),r.body.appendChild(a),a.submit(),m(function(){I(function(){gn.body.removeChild(i)}),o(t.callback)&&t.callback()},n.delay)})}}}function on(n){return{name:"Gif",send:function(e,t){var i=new Image,r=b(t.callback);i.onload=r,m(r,n.delay),i.src=R(e,t.dataMsg)}}}function an(n,e){var t=this.config;return n.dataMsg.length+e.length>2e3?new rn(t):new on(t)}function un(){return I(function(){return Cn.document.referrer},function(){return Mn.document.referrer},function(){return gn.referrer})}function cn(n,e){var t=w(),i=_("script",{src:R(n,"callback="+t)});window[t]=b(function(){window[t]=void 0,I(function(){gn.body.removeChild(i)}),i=void 0,e.apply(null,arguments)}),gn.body.appendChild(i)}function sn(){}function dn(n){this.config=f(n),this.referrer=un(),this.pageData={},this.blocked=!1,this.changeId=null,this.listeners={}}function ln(){u(kn,clearTimeout),kn.length=0}var fn="__lytics__jstag__",gn=window.document,hn=function(){for(var n=gn.getElementsByTagName("script"),i=n.length,r=Array(i),o=0;i>o;o++)r[o]=n[o];for(var a=gn.getElementsByTagName("meta"),u=a.length,c=Array(u),s=0;u>s;s++)c[s]=a[s];var d=e(t(r.concat(c),function(n){return n.getAttribute("data-lytics-global")}),Boolean);if(d.length>1)throw Error("This page specified more than one data-lytics-global attribute. You should put the attribute on either a meta tag, or the script element itself, but not both");return 1===d.length?d[0]:"jstag"}(),pn=window.encodeURIComponent,mn=Object.keys||function(n){return e(c(n),function(e){return{}.hasOwnProperty.call(n,e)})},vn=window.location,wn="2.1.0",yn="seerid",bn="seerses",kn=[],_n=window.navigator,An=_n.userAgent,In=window.screen,jn=window.decodeURIComponent,Cn=window.top,Mn=window.parent;dn.prototype={constructor:dn,getid:k,setid:E,parseEvent:V,block:Y,unblock:$,ioCollect:tn,ioGetTransport:an,sendMessage:N,send:D,identify:D,mock:F,page:G,pageView:G,pageAnalysis:en,jsonp:cn,extend:l,parseUri:C,parseQueryString:Z,getCookie:p,setCookie:T,deleteCookie:L,clearCookies:J,onIoReady:sn,onSendStarted:sn,onSendFinished:sn},window[fn]||(window[fn]=window[hn]||{}),window[fn].JSTag=dn,window[fn].init=function(){function i(n){u(n,function(n){window[fn][n]=function(){return o[n].apply(o,arguments)}})}function r(){o&&o.clearCookies(),ln()}var o;return i(["send","mock","identify","page","pageView","block","unblock","parseEvent","clearCookies"]),window[fn].extend=l,window[fn].ckieGet=p,window[fn].ckieSet=T,window[fn].ckieDel=L,window[fn].isLoaded=!1,window[fn].util={forEach:u,reduce:n,map:t,filter:e,contains:P,pairs:H,object:j,filterObject:K,trim:X,extend:l,expose:i,once:b,parseUri:C,parseQueryString:Z},function(n){return r(),o=new dn(n),o.pageAnalysis(),window[fn].isLoaded=!0,window[fn].config=o.config,r}}(),window[hn]=window[fn]}();